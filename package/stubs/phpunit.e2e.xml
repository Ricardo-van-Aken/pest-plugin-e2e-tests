<?xml version="1.0" encoding="UTF-8"?>
<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="vendor/phpunit/phpunit/phpunit.xsd"
         bootstrap="vendor/autoload.php"
         colors="true"
>
    <testsuites>
        <testsuite name="E2E">
            <directory>tests/E2E</directory>
        </testsuite>
    </testsuites>
    <source>
        <include>
            <directory>app</directory>
        </include>
    </source>

    <!-- Configuration Synchronization
    This phpunit.e2e.xml file is used when RUNNING TESTS (not when the application receives requests).
    The environment variables set here ensure that the test code and the application code use matching
    configurations when the application receives test requests.
    
    When the application receives a request with the test header (X-TESTING by default), it automatically
    switches to testing configurations (e.g., testing database, testing cache). The configurations below
    ensure that your test code uses the same settings, so both sides are in sync.
    -->
    <php>
        <env name="APP_ENV" value="testing"/>
        <env name="APP_URL" value="https://nginx"/>
    </php>
</phpunit>

